{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta tags -->
    {% block meta %}
        <!-- Standard meta tags for responsiveness and compatibility
             Source: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="BookLand - Your curated online bookstore offering philosophy, psychology, self-development, literature, and biography books. Free shipping on orders over $40, secure checkout, and easy returns. Find your next great read today!">

        <meta name="keywords" content="online bookstore, buy books online, philosophy books, psychology books, literature classics, biography books, biographies, self-development books, free shipping, bookstore near me, book delivery, discount books, book recommendations, gift books, affordable books, reading community, book shopping, wishlist, book categories, book catalog, secure checkout, bookshop, book orders, book collection, new releases, popular authors, book lovers, reading materials, bestseller books">
    {% endblock %}

    <!-- Page title with fallback to site name -->
    <title>{% block head_title %}BookLand | Your Curated Online Bookstore for Philosophy, Psychology & More{% endblock %}</title>
    
    <!-- Core CSS - Bootstrap, icons, and base styles 
         Source: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
    {% block corecss %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <!-- Bootstrap Icons - Used throughout the site for visual elements
             Source: https://icons.getbootstrap.com/ -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <!-- Custom base styles that apply site-wide -->
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
        <link rel="stylesheet" href="{% static 'cart/css/cart.css' %}">
    {% endblock %}

    {% block extra_css %}
    {% endblock %}
    
</head>

<body>
    <!-- Navigation bar - imported from template include 
         Django template includes documentation: https://docs.djangoproject.com/en/5.1/ref/templates/builtins/#include -->
    {% include 'includes/main_nav.html' %}

    <!-- Main content container - flexible for all page templates -->
    <main class="container py-4">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Newsletter Section - appears on all pages -->
    <div class="container">
        <div class="row justify-content-center mt-5 pt-3 border-top">
            <div class="col-12 text-center mb-3">
                <h4>Join Our Newsletter</h4>
            </div>
            <div class="col-12 col-md-8 col-lg-6">
                <!-- Simple newsletter signup form
                     Bootstrap form documentation: https://getbootstrap.com/docs/5.3/forms/overview/ -->
                     <form id="newsletter-form" class="d-flex justify-content-center">
                        <div class="w-100">
                            <div class="input-group">
                                <input type="email" id="newsletter-email" class="form-control" placeholder="Enter your email">
                                <button type="submit" id="newsletter-submit" class="btn btn-dark" aria-label="Subscribe to newsletter">Subscribe</button>
                            </div>
                            <div id="newsletter-message" class="mt-2 text-center"></div>
                        </div>
                    </form>
            </div>
        </div>
    </div>

    <!-- Core JavaScript libraries - Bootstrap, Popper, jQuery
         Source: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
    {% block corejs %}
        <script src="{% static 'js/newsletter.js' %}"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <!-- Toast notifications handler script - for showing success/error messages
             Source for toast implementation: https://getbootstrap.com/docs/5.3/components/toasts/ -->
        <script src="{% static 'js/toasts/toast_handler.js' %}"></script>
    {% endblock %}

    <!-- Page-specific additional JavaScript
         Django template blocks documentation: https://docs.djangoproject.com/en/5.1/ref/templates/language/#template-inheritance -->
    {% block extra_js %}
    <script>
        // Wait for document to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Update quantity on click - used in cart page
            const updateButtons = document.querySelectorAll('.update-link');
            updateButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    this.closest('.update-form').submit();
                });
            });
        });
    </script>
    {% endblock %}

    <!-- Footer section - consistent across all pages -->
    <footer class="bg-white border-top py-4 mt-4">
        <div class="container">
            <div class="row">
                <!-- Brand and Description -->
                 <div class="col-md-4">
                    <h5>Bookland</h5>
                    <hr>
                    <p>
                        BookLand is more than just an online bookstore. We're a community of book lovers dedicated to connecting readers with their next great adventure.
                    </p>
                 </div>

                 <!-- Customer Service Links - connects to extra_pages app views
                      Django URL tag documentation: https://docs.djangoproject.com/en/5.1/ref/templates/builtins/#url -->
                 <div class="col-md-4">
                    <h5>Customer Service</h5>
                    <hr>
                    <ul>
                        <li class="mb-2"><a href="{% url 'contact_us' %}" class="text-decoration-none text-dark">Contact Us</a></li>
                        <li class="mb-2"><a href="{% url 'faq' %}" class="text-decoration-none text-dark">FAQ<a></li>
                        <li class="mb-2"><a href="{% url 'shipping_policy' %}" class="text-decoration-none text-dark">Shipping Policy</a></li>
                        <li class="mb-2"><a href="{% url 'returns' %}" class="text-decoration-none text-dark">Returns</a></li>
                        <li class="mb-2"><a href="{% url 'privacy_policy' %}" class="text-decoration-none text-dark">Privacy Policy</a></li>
                    </ul>
                 </div>

                 <!-- Connect With Us - contact information and social media -->
                 <div class="col-md-4">
                    <h5 class="fw-bold mb-3">Connect With Us</h5>
                    <hr>
                    <p class="mb-2"><i class="bi bi-envelope-fill me-2"></i>booklandst@gmail.com</p>
                    <p class="mb-3"><i class="bi bi-telephone-fill me-2"></i>+123 456-789</p>
                    
                    <!-- Social Media Icons - using Bootstrap Icons
                         Source: https://icons.getbootstrap.com/ -->
                    <div class="d-flex">
                        <a href="https://www.facebook.com/profile.php?id=61575641435990" class="text-dark me-3 fs-5" target="_blank" aria-label="Visit our Facebook page"><i class="bi bi-facebook" rel="noopener"></i></a>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="row mt-4">
                <div class="col text-center">
                    <hr>
                    <p class="small">Â© 2025 BookLand. All rights reserved.</p>
                </div>
            </div> 
        </div>
     </footer>
     
<!-- Toast message container - for displaying alerts/notifications
     Source: https://getbootstrap.com/docs/5.3/components/toasts/ and
     Django messages framework: https://docs.djangoproject.com/en/5.1/ref/contrib/messages/ -->
{% include 'includes/toasts/toast_container.html' %}
{% include 'includes/toasts/toast_scripts.html' %}
    
</body>

</html>